{% extends 'Employees/layout/base.html' %}

{% block content %}
<body>
<img src="https://img.thuthuatphanmem.vn/uploads/2018/10/11/hinh-anh-may-bay-viet-nam-dep_041753785.jpg"
     alt="Anh máy bay" class="image">
{% if 'info_flight_one' in session %}
<div class="d-flex justify-content-center"
     style="background-color: darkgray;text-align: center; display: flex; align-items: center; gap: 20px; width: 400px; height: 50px; position: absolute; left: {%if 'info_flight_two' in session and session['info']['loai_ve'] == 'Khứ Hồi'%} 20% {%else%} 40% {%endif%}; top: 230px">
    <div class="d-flex flex-column align-items-center"
         style="width: 70px; margin-right: 10px">
        <div style="width: 100px; margin-right: 10px">
            <p style="margin-bottom: 2px;">
                {{session['info_flight_one']['noi_di']}}</p>
        </div>
        <div>
            <span class="font-bold" style="font-weight: bold;">{{session['info_flight_one']['ngay_di'].strftime('%H:%M')}}</span>
        </div>
    </div>
    <!-- điểm dừng -->
    <div class="d-flex flex-column align-items-center"
         style="width: 120px">
        <p class="text-muted mb-2"
           style="margin-top: -11px">
            {{session['info_flight_one']['so_luong_diem_dung']}} điểm dừng</p>
        <!-- Mũi tên -->
        <div class="arrow-c ontainer d-flex align-items-center"
             style="display: flex; align-items: center; position: absolute">
                                                                    <span class="dot"
                                                                          style="height: 8px; width: 8px; background-color: gray; border-radius: 50%;"></span>
            <div class="line"
                 style=" flex-grow: 2; height: 2px; background-color: gray; margin: 0; width: 80px;"></div>
            <div style="font-size: 19px; color: gray; margin-left: -15px; margin-top: -4px">
                &rarr;
            </div>
        </div>
    </div>
    <div class="d-flex flex-column align-items-center"
         style="width: 70px; margin-left: 10px">
        <div style="width: 100px; margin-right: 10px">
            <p style="margin-bottom: 2px;">
                {{session['info_flight_one']['noi_den']}}</p>
        </div>
        <div class="">
            <span class="font-bold" style="font-weight: bold;">{{session['info_flight_one']['ngay_ve'].strftime('%H:%M')}}</span>
        </div>
    </div>
</div>
{%endif%}
{% if 'info_flight_two' in session and session['info']['loai_ve'] == 'Khứ Hồi'%}
<div class="d-flex justify-content-center"
     style="background-color: darkgray; text-align: center; display: flex; align-items: center; gap: 20px; width: 400px; height: 50px; position: absolute; left: 60%; top: 230px">
    <div class="d-flex flex-column align-items-center"
         style="width: 70px; margin-right: 10px">
        <div style="width: 100px; margin-right: 10px">
            <p style="margin-bottom: 2px;">
                {{session['info_flight_two']['noi_di']}}</p>
        </div>
        <div>
            <span class="font-bold" style="font-weight: bold;">{{session['info_flight_two']['ngay_di'].strftime('%H:%M')}}</span>
        </div>
    </div>
    <!-- điểm dừng -->
    <div class="d-flex flex-column align-items-center"
         style="width: 120px">
        <p class="text-muted mb-2"
           style="margin-top: -11px">
            {{session['info_flight_two']['so_luong_diem_dung']}} điểm dừng</p>
        <!-- Mũi tên -->
        <div class="arrow-c ontainer d-flex align-items-center"
             style="display: flex; align-items: center; position: absolute">
                                                                    <span class="dot"
                                                                          style="height: 8px; width: 8px; background-color: gray; border-radius: 50%;"></span>
            <div class="line"
                 style=" flex-grow: 2; height: 2px; background-color: gray; margin: 0; width: 80px;"></div>
            <div style="font-size: 19px; color: gray; margin-left: -15px; margin-top: -4px">
                &rarr;
            </div>
        </div>
    </div>
    <div class="d-flex flex-column align-items-center"
         style="width: 70px; margin-left: 10px">
        <div style="width: 100px; margin-right: 10px">
            <p style="margin-bottom: 2px;">
                {{session['info_flight_two']['noi_den']}}</p>
        </div>
        <div class="">
            <span class="font-bold" style="font-weight: bold;">{{session['info_flight_two']['ngay_ve'].strftime('%H:%M')}}</span>
        </div>
    </div>
</div>
{%endif%}
<div class="d-flex align-items-center justify-content-center min-vh-80 mt-5">
    <div class="container text-center ticket" style="margin-left: 50px; padding-bottom: 30px;">
        <div class="container-fluid">
            <div class="row" style="margin-top: 100px">
                <div class="col-sm-3 col-md-6 col-lg-4 col-xl-2 bg-primary text-white mt-5"
                     style="background-color: navajowhite !important; border-radius: 10px !important; height: 350px !important;">
                    <div class="container mt-3">
                        <h4 style="margin-bottom: 0 !important;">Thao tác vé</h4>
                        <div class="list-group">
                            <a href="/page/sellticket" class="list-group-item list-group-item-action bg-primary"><i
                                    class="fas fa-ticket-alt"></i>Bán vé</a>
                            <a href="/page/changeticket" class="list-group-item list-group-item-action"><i
                                    class="fas fa-exchange-alt"></i>Đổi vé</a>
                            <a href="/page/cancelticket" class="list-group-item list-group-item-action"><i
                                    class="fas fa-ban"></i>Hủy
                                vé</a>
                            <a href="/page/printticket" class="list-group-item list-group-item-action"><i
                                    class="fas fa-print"></i>Xuất
                                vé</a>
                            <a href="#" class="list-group-item list-group-item-action"><i
                                    class="fas fa-arrow-left"></i>Quay lại</a>
                        </div>
                    </div>
                </div>
                {%for i in range(0, quantity)%}
                <div class="col-sm-9 col-md-6 col-lg-8 col-xl-10 text-white mt-5"
                     style="{% if i == 0 %}margin-left: 0{% else %}margin-left: 200px{% endif %}">
                    <div class="container">
                        <div class="row">
                            <div class="d-inline-flex"
                                 style="background-color: darkgray ; height: 400px; border-radius: 10px; position: relative; width: 100%; ">
                                <div style="height: 40px; position: absolute; top: 30px; left: 410px"><h4>Điền thông tin
                                    vé</h4></div>
                                <!-- Form thông tin -->
                                <form method="post" action="/page/booktickets" class="row g-3"
                                      style="position: absolute; top: 100px; left: 20px; width: 95%">
                                    <!-- Họ và tên -->
                                    <div class="col-md-3">
                                        <label for="name{{i}}" class="form-label">Họ và tên</label>
                                        <input type="text" name="name{{i}}" class="form-control" id="name{{i}}"
                                               placeholder="Nhập họ tên">
                                    </div>

                                    <!-- Số điện thoại -->
                                    <div class="col-md-3">
                                        <label for="phone{{i}}" class="form-label">Số điện thoại</label>
                                        <input type="text" name="phone{{i}}" class="form-control" id="phone{{i}}"
                                               placeholder="Nhập số điện thoại">
                                    </div>

                                    <!-- Số CCCD -->
                                    <div class="col-md-3">
                                        <label for="cccd{{i}}" class="form-label">Số CCCD</label>
                                        <input type="text" name="cccd{{i}}" class="form-control" id="cccd{{i}}"
                                               placeholder="Nhập số CCCD">
                                    </div>

                                    <!-- Ngay sinh -->
                                    <div class="col-md-3">
                                        <label for="birthday{{i}}" class="form-label">Ngày sinh</label>
                                        <input type="date" name="birthday{{i}}" class="form-control" id="birthday{{i}}"
                                               placeholder="Nhập số CCCD">
                                    </div>

                                    <!-- Email -->
                                    <div class="col-md-3">
                                        <label for="email{{i}}" class="form-label">Email</label>
                                        <input type="email" name="email{{i}}" class="form-control" id="email{{i}}"
                                               placeholder="Nhập email">
                                    </div>

                                    <!-- Hạng vé -->
                                    <div class="col-md-3">
                                        <label class="form-label">Hạng vé</label>
                                        <div class="d-flex justify-content-center align-items-center"
                                             style="background-color: white; border-radius: 5px; height: 35px; color: black;">
                                            <label>{{session['info']['hang_ve']}}</label>
                                        </div>
                                    </div>

                                    <!-- Loại vé -->
                                    <div class="col-md-3">
                                        <label class="form-label">Loại vé</label>
                                        <div class="d-flex justify-content-center align-items-center"
                                             style="background-color: white; border-radius: 5px; height: 35px; color: black;">
                                            <label>{{session['info']['loai_ve']}}</label>
                                        </div>
                                    </div>

                                    <!-- Hành lý -->
                                    <div class="col-md-3">
                                        <label class="form-label">Số lượng hành lý</label>
                                        <div class="input-group">
                                            <button type="button" class="btn btn-outline-secondary"
                                                    id="baggage-decrease"
                                                    style="margin-top: 4px; margin-right: 7px; background-color: white">
                                                -
                                            </button>
                                            <input type="text" class="form-control text-center" id="baggage-count"
                                                   value="0" style="border-radius: 5px; height: 35px" disabled>
                                            <button type="button" class="btn btn-outline-secondary"
                                                    id="baggage-increase"
                                                    style="margin-top: 4px; margin-left: 7px; background-color: white">+
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Ngày đi -->
                                    <div class="col-md-3">
                                        <label class="form-label">Ngày đi</label>
                                        <div class="d-flex justify-content-center align-items-center"
                                             style="background-color: white; border-radius: 5px; height: 35px; color: black;">
                                            <label>{{session['info']['ngay_di']}}</label>
                                        </div>
                                    </div>

                                    <!-- Vị trí ngồi đã được chọn-->
                                    <div class="col-md-3">
                                        <label class="form-label">Vị trí ngồi đi và về</label>
                                        <div class="d-flex gap-3">
                                            <div class="d-flex justify-content-center align-items-center"
                                                 style="background-color: white; border-radius: 5px; height: 35px; color: black; width: 100px">
                                                <div><label id="sitting-position-go"></label></div>
                                            </div>
                                            <div class="d-flex justify-content-center align-items-center"
                                                 style="background-color: white; border-radius: 5px; height: 35px; color: black; width: 100px">
                                                <div><label id="sitting-position-comeback"></label></div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Chọn Vị trí ngồi -->
                                    <div class="col-md-3 select-seat">
                                        <div>
                                            <label class="form-label ms-5">Chọn vị trí</label>
                                            <div class="d-flex gap-2 ms-5">
                                                <div>
                                                    <button type="button" class="btn-select-seat" data-bs-toggle="modal"
                                                            data-bs-target="#myModal">Vị trí đi
                                                    </button>
                                                </div>
                                                {%if session['info']['loai_ve'] == 'Khứ Hồi'%}
                                                <div>
                                                    <button type="button" class="btn-select-seat" data-bs-toggle="modal"
                                                            data-bs-target="#myModal">Vị trí về
                                                    </button>
                                                </div>
                                                {%endif%}
                                            </div>
                                        </div>

                                    </div>
                                    <!-- The Modal -->
                                    <div class="modal fade" id="myModal">
                                        <div class="modal-dialog modal-xl">
                                            <div class="modal-content">
                                                <!-- Modal body -->
                                                <div class="modal-body" style="height: 600px;">
                                                    <div class="container">
                                                        <!-- Tạo day thu 1 -->
                                                        <div class="row g-2" style="gap: 10px">
                                                            {% for i in range(0, 4) %}
                                                            {% for j in range(1, 17) %}
                                                            <button type="button"
                                                                    class="col-md-1 d-flex justify-content-center align-items-center rounded seat"
                                                                    style="width:58px !important; height: 50px !important;">
                                                                {{list_alphabet[i]}}{{j}}
                                                            </button>
                                                            {%endfor%}
                                                            {%endfor%}
                                                        </div>
                                                        <!-- Tao dãy số 2-->
                                                        <div class="row g-2" style="gap: 10px; margin-top: 60px">
                                                            {% for i in range(4, 8) %}
                                                            {% for j in range(1, 17) %}
                                                            <button type="button"
                                                                    class="col-md-1 d-flex justify-content-center align-items-center rounded seat"
                                                                    style="width:58px !important; height: 50px !important;">
                                                                {{list_alphabet[i]}}{{j}}
                                                            </button>
                                                            {%endfor%}
                                                            {%endfor%}
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Modal footer -->
                                                <div class="modal-footer d-flex justify-content-center align-items-center">
                                                    <button type="button" class="btn btn-danger"
                                                            data-bs-dismiss="modal">Xác nhận
                                                    </button>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <!-- Tổng thanh toán -->
                                    <div class="col-md-3 order-md-4">
                                        <label class="form-label">Tổng thanh toán</label>
                                        <div class="d-flex justify-content-center align-items-center"
                                             style="background-color: white; border-radius: 5px; height: 35px; color: black; background-color: antiquewhite;">
                                            <label>2.192.000 VND</label>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                {%endfor%}
            </div>
        </div>
    </div>
</div>
<div class="container p-5 text-white rounded"
     style="background-color: darkgray; width: 50%; margin-right: 200px; position: relative; height: 150px">
    <div class="row">
        <!-- Mã giảm giá -->
        <div class="col-md-6" style="position: absolute; top: 10px; width: 250px">
            <label for="discount-code" class="form-label">Mã giảm giá</label>
            <input type="text" class="form-control" id="discount-code"
                   placeholder="Nhập mã giảm giá">
        </div>
        <!-- Hình thức thanh toán -->
        <div class="col-md-6" style="position: absolute; top: 10px; right: 35px; width: 280px">
            <label for="payment-method" class="form-label">Hình thức thanh toán</label>
            <select id="payment-method" class="form-select">
                <option selected>Thanh toán trực tuyến</option>
                <option>Ví điện tử</option>
                <option>Tiền mặt</option>
            </select>
        </div>
    </div>
    <div class="col-md-3" style="position: absolute; top: 100px; left: 200px">
        <div class="confirm-sell-tickets d-flex justify-content-center align-items-center">
            <a href="/page/paytickets">Xác nhận</a>
        </div>
    </div>
    <div class="col-md-3" style="position: absolute; top: 100px; left: 320px">
        <div class="drop-sell-tickets d-flex justify-content-center align-items-center">
            <a href="#">Hủy</a>
        </div>
    </div>
</div>
</body>
{% endblock %}